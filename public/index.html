<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LayEv Visualizer</title>

    <!-- Style sheets -->
    <link rel="stylesheet" href="styles/basic.css">
    <link rel="stylesheet" href="styles/fonts.css">
    <link rel="stylesheet" href="styles/collapsible.css">
    <link rel="stylesheet" href="styles/dataPanel.css">
    <link rel="stylesheet" href="styles/filterPanel.css">

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fragment+Mono:ital@0;1&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body class="montserrat-regular">
    <header>
        <h1>LayEvâ€”Synthesize and Visualize Statistical Evidence</h1>

        <div class="wrap-collapsible">
            <input id="collapsible" class="toggle collapse-checkbox" type="checkbox">
            <label for="collapsible" class="lbl-toggle">Readme</label>
            <div class="collapsible-content">
              <section class="content-inner">
                <p>
                    LayEv (Layered Evidence) is an interactive visualization system to explore the
                    results of systematic evidence synthesis. Each layer represents the found effects of
                    an empirical study. The data is provided as graphs via .dot files, as shown below.
                    Each digraph object has a name (e.g., authors and year of the corresponding publication)
                    and a body specifying relationships between variables. Each line consists of two nodes
                    named after variables ("A", "B", "C", "D" in the example below) connected by a directed edge
                    (->) indicating causal direction. For each edge, a type is specified indicating the kind of
                    relationship between the variables ("s+": significant positive, "s-": significant negative,
                    "s": significant (sign unknown), "a": analyzed but not significant, "m": measured but not analyzed).
                </p>
                <pre class="fragment-mono-regular">
digraph Example {
    "B" -> "D" [type="sp"]
    "D" -> "B" [type="sn"]
    "C" -> "B" [type="s"]
    "A" -> "D" [type="a"]
    "A" -> "B" [type="m"]
}</pre>
              </section>
            </div>
          </div>
    </header>

    <aside>
        <section class="control-panel">
            <h3>Data</h3>
            <input id="fileInput" multiple type="file" accept=".dot" />
            <label for="fileInput" class="custom-file-input">+</label>
            <ul id="fileList"></ul>
        </section>

        <section class="control-panel">
            <h3>Filter</h3>
            <div class="filter-item">
                <label for="checkbox-r">References</label>
                <input type="checkbox" id="checkbox-r" name="checkbox-r" checked="true" style="float:right" />
            </div>
            <div class="filter-item">
                <label for="checkbox-l">Node Labels</label>
                <input type="checkbox" id="checkbox-l" name="checkbox-m" checked="true" style="float:right" />
            </div>
            <div class="filter-item">
                <label for="checkbox-sp">Significant Positive</label>
                <input type="checkbox" id="checkbox-sp" name="checkbox-sp" checked="true" style="float:right" />
            </div>
            <div class="filter-item">
                <label for="checkbox-sn">Significant Negative</label>
                <input type="checkbox" id="checkbox-sn" name="checkbox-sn" checked="true" style="float:right" />
            </div>
            <div class="filter-item">
                <label for="checkbox-s">Significant</label>
                <input type="checkbox" id="checkbox-s" name="checkbox-s" checked="true" style="float:right" />
            </div>
            <div class="filter-item">
                <label for="checkbox-a">Analyzed</label>
                <input type="checkbox" id="checkbox-a" name="checkbox-a" style="float:right" />
            </div>
            <div class="filter-item">
                <label for="checkbox-m">Measured</label>
                <input type="checkbox" id="checkbox-m" name="checkbox-m" style="float:right" />
            </div>
        </section>
        
    </aside>

    <main>
        <canvas id="threeCanvas"></canvas>
    </main>

    <!-- Basic scripts -->
    <script src="scripts/resizeCanvas.js"></script>
    <script type="module" src="scripts/fileInput.js"></script>

    <!-- Three.js scripts -->
    <script type="module" src="three-scripts/main.js"></script>
</body>
</html>
